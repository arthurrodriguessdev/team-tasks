{% extends 'base_site.html' %}

{% block content %}
    {{ block.super }}

    {% block confirmacao_exclusao %}
        <div class="container-exclusao">
            {% if titulo_exibicao_dados %}
                <h3 class="titulo-confirmacao">{{ titulo_exibicao_dados }}</h3>

                <!-- área de exibição dos dados do objeto para conferência -->
                <div class="container-visualizacao-informacoes">
                    {% if texto_informativo %}
                        <p class="texto-informativo" style="text-align: center;">{{ texto_informativo }}</p>
                    {% endif %}

                    {% for label, campo in dados.items %}
                        <p class="label-visualizacao">{{ label }}:</p>
                        <p class="campo-visualizacao">{{ campo }}</p>
                    {% endfor %}
                </div>
            {% endif %}
                
            {% if titulo_confirmacao %}
                <h3 class="titulo-confirmacao">{{ titulo_confirmacao }}</h3>
            {% endif %}

            <!-- <div class="alerta-exclusao">
                <strong>Atenção:</strong> esta ação não pode ser desfeita.
            </div> -->

            {% if dados_afetados %}
                {% for grupo in dados_afetados %}
                    <div class="dados-afetados-exclusao">
                        <p>{{ grupo.titulo }} ({{ grupo.quantidade }})</p>
                        <ul>
                            {% for obj in grupo.objetos %}
                                <li>{{ obj }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                {% endfor %}
            {% else %}
                {% if pode_ter_dados_afetados %}
                    <div class="nenhum-dado-afetado">
                        <p>Esta exclusão não afetará outros registros.</p>
                    </div>
                {% endif %}
            {% endif %}

        {% if botoes_inferiores %}
            <div class="acoes-inferior-pagina">
                {% for botao in botoes_inferiores %}
                    {% if botao.id_item %}
                        <a href="{% url botao.url botao.id_item %}" class="{{ botao.classe }}">{{ botao.nome }}</a>
                    {% else %}
                        <a href="{% url botao.url %}" class="{{ botao.classe }}">{{ botao.nome }}</a>
                    {% endif %}
                {% endfor %}
                
                <form action="{% url url id_item %}" method="POST">
                    {% csrf_token %}
                    <button type="submit" class="adicionar-botao">{{ titulo_botao_form }}</button>
                </form>
            </div>
        {% endif %}
    {% endblock %}
{% endblock %}